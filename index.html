<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Anniyan</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>AN IY YAN</h1>
        <p class="subtitle">The sins are noted. Justice is inevitable.</p>

        <form id="reportForm">
            <input type="text" name="name" placeholder="Your Name (Optional)">
            <input type="text" name="crime" placeholder="Crime *" required>
            <input type="text" name="person" placeholder="Person Responsible (Optional)">
            <input type="text" name="location" placeholder="Location (Optional)">
            <input type="text" name="time" placeholder="Time of Incident (Optional)">
            <textarea name="description" placeholder="Describe the event *" required></textarea>
            <button type="submit">Submit to Anniyan</button>
        </form>
    </div>

    <script>
    document.getElementById('reportForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const name = e.target.name.value;
        const crime = e.target.crime.value;
        const person = e.target.person.value || "Unknown";
        const location = e.target.location.value || "Unknown";
        const time = e.target.time.value || "Unknown";
        const description = e.target.description.value;

        fetch('https://sheetdb.io/api/v1/YOUR-ACTUAL-SHEETDB-URL-HERE', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                data: {
                    Name: name,
                    Crime: crime,
                    Person: person,
                    Location: location,
                    Time: time,
                    Description: description
                }
            })
        })
        .then(res => {
            if (res.ok) {
                alert("✅ Report submitted. Justice never forgets.");
                e.target.reset();
            } else {
                alert("❌ Failed to submit. Check your sheet settings.");
            }
        })
        .catch(err => {
            console.error(err);
            alert("❌ Network error. Please try again.");
        });
    });
    </script>
</body>
</html>
